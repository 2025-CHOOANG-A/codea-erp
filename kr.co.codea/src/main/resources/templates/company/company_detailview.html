<div th:fragment="view">
  <main class="main-content">
    <div class="container">
      <h2 class="mb-4 fw-semibold">사업장 정보</h2>
      <div class="table-responsive">
        <table class="table table-bordered align-middle company-table bg-white">
          <tbody th:each="dto : ${alldata}">
            <tr>
              <th scope="row">회사 로고</th>
              <td colspan="3">
                <img 
                  th:src="${dto.compImg != null} ? @{${dto.compImg}} : 'https://via.placeholder.com/100x60?text=Logo'"
                  alt="회사 로고"
                  class="company-logo"
                />
              </td>
            </tr>
            <tr>
              <th scope="row">회사명</th>
              <td th:text="${dto.compName}"></td>
              <th scope="row">대표자명</th>
              <td th:text="${dto.ceoName}"></td>
            </tr>
            <tr>
              <th scope="row">법인/개인</th>
              <td th:text="${dto.compType}"></td>
              <th scope="row">법인등록번호</th>
              <td th:text="${dto.corpNo}"></td>
            </tr>
            <tr>
              <th scope="row">사업자등록번호</th>
              <td th:text="${dto.bizNo}"></td>
              <th scope="row">사업자등록증</th>
              <td>
                <img
                  th:src="${dto.bizImg != null} ? @{${dto.bizImg}} : 'https://via.placeholder.com/100x60?text=License'"
                  alt="사업자등록증"
                  class="company-license"
                />
              </td>
            </tr>
            <tr>
              <th scope="row">업태</th>
              <td th:text="${dto.bizCond}"></td>
              <th scope="row">업종</th>
              <td th:text="${dto.bizType}"></td>
            </tr>
            <tr>
              <th scope="row">주소</th>
              <td th:text="${dto.address}"></td>
              <th scope="row">상세주소</th>
              <td th:text="${dto.addressDetail}"></td>
            </tr>
            <tr>
              <th scope="row">우편번호</th>
              <td colspan="3" th:text="${dto.postCode}"></td>
            </tr>
            <tr>
              <th scope="row">대표번호</th>
              <td th:text="${dto.tel}"></td>
              <th scope="row">팩스번호</th>
              <td th:text="${dto.fax}"></td>
            </tr>
            <tr>
              <th scope="row">이메일</th>
              <td colspan="3" th:text="${dto.mail}"></td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- 관리자만 노출되는 수정 버튼 -->
      <div class="text-end mt-3" id="editBtnWrapper" style="display: none">
        <button onclick="location.href='/company/modify'" class="btn btn-primary px-4">수정</button>
      </div>
      <!-- 
      <div class="text-end mt-3" th:if="${session.loginUser.role == 'ADMIN'}">
        <button onclick="location.href='/company/modify'" class="btn btn-primary px-4">수정</button>
      </div>
      -->
    </div>
  </main>
</div>
