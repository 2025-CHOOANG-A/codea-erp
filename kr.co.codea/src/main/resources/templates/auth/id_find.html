<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>아이디 찾기 | CodeA ERP</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-light">
    <!-- Header -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
      <div class="container">
        <a class="navbar-brand fw-bold" href="#">CodeA</a>
        <span class="navbar-text text-white ms-2"
          >물류 · 생산 관리 ERP 시스템</span
        >
      </div>
    </nav>

    <!-- Main Content -->
    <div
      class="container d-flex justify-content-center align-items-center"
      style="min-height: 80vh"
    >
      <div class="col-md-6 col-lg-5">
        <div class="card shadow-sm w-100">
          <div class="card-body">
            <h4 class="card-title mb-4 text-center">아이디 찾기</h4>
            <form id="findIdForm" novalidate>
              <div class="mb-3">
                <label for="name" class="form-label">이름</label>
                <input
                  type="text"
                  class="form-control"
                  id="name"
                  placeholder="이름을 입력하세요"
                />
              </div>
              <div class="mb-3">
                <label for="empNo" class="form-label">사번</label>
                <input
                  type="text"
                  class="form-control"
                  id="empNo"
                  placeholder="사번을 입력하세요"
                />
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">이메일</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  placeholder="이메일을 입력하세요"
                />
              </div>
              <div
                id="formError"
                class="text-danger mb-3"
                style="display: none"
              ></div>
              <button type="submit" class="btn btn-primary w-100">
                아이디 찾기
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS + Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // 예시: 사원 정보 (실제 서비스에서는 서버에서 확인)
      const mockUsers = [
        {
          name: "홍길동",
          empNo: "1001",
          email: "hong@codea.com",
          userId: "hong1001",
        },
      ];

      const form = document.getElementById("findIdForm");
      const errorDiv = document.getElementById("formError");

      form.addEventListener("submit", function (e) {
        e.preventDefault();
        errorDiv.style.display = "none";
        errorDiv.textContent = "";

        const name = document.getElementById("name").value.trim();
        const empNo = document.getElementById("empNo").value.trim();
        const email = document.getElementById("email").value.trim();

        if (!name || !empNo || !email) {
          errorDiv.textContent = "모든 항목을 입력해 주세요.";
          errorDiv.style.display = "block";
          return;
        }

        // 사원 정보 확인 (실제 서비스에서는 서버에서 처리)
        const user = mockUsers.find(
          (u) => u.name === name && u.empNo === empNo && u.email === email
        );

        if (!user) {
          alert("일치하는 사원 정보가 없습니다.");
          return;
        }

        // 결과 화면 이동 (예시: id_result.html로 이동, 실제로는 서버에서 처리)
        window.location.href =
          "id_result.html?userId=" + encodeURIComponent(user.userId);
      });
    </script>
  </body>
</html>
