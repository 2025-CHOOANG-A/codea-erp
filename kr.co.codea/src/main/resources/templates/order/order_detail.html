<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>주문 상세</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">
  <div class="container">
    <h3 class="mb-4">주문 상세</h3>

    <!-- 주문 헤더 정보 -->
    <table class="table table-bordered mb-4">
      <tbody>
        <tr><th>주문 코드</th><td th:text="${order.orderCode}"></td><th>주문일</th><td th:text="${#dates.format(order.orderDate, 'yyyy-MM-dd')}"></td></tr>
        <tr><th>거래처 코드</th><td th:text="${order.partnerCode}"></td><th>거래처명</th><td th:text="${order.partnerName}"></td></tr>
        <tr><th>상태</th><td th:text="${order.status}"></td><th>담당자 번호</th><td th:text="${order.employeeNo}"></td></tr>
        <tr><th>담당자명</th><td th:text="${order.employeeName}"></td><th>등록일</th><td th:text="${#dates.format(order.createdAt, 'yyyy-MM-dd')}"></td></tr>
        <tr><th>수정일</th><td th:text="${#dates.format(order.updatedAt, 'yyyy-MM-dd')}"></td><th>비고</th><td th:text="${order.remark}"></td></tr>
        <tr><th>총 금액</th><td colspan="3" th:text="|₩ ${#numbers.formatInteger(order.totalAmount, 3, 'COMMA')}|"></td></tr>
      </tbody>
    </table>

    <!-- 주문 상세 품목 리스트 -->
    <h5>품목 목록</h5>
    <table class="table table-bordered text-center">
      <thead class="table-light">
        <tr>
          <th>품목 코드</th>
          <th>품목명</th>
          <th>규격</th>
          <th>수량</th>
          <th>단가</th>
          <th>공급가액</th>
          <th>희망 납기일</th>
          <th>비고</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="detail : ${order.details}">
          <td th:text="${detail.itemCode}"></td>
          <td th:text="${detail.itemName}"></td>
          <td th:text="${detail.spec}"></td>
          <td th:text="${detail.orderQty}"></td>
          <td th:text="|₩ ${#numbers.formatInteger(detail.unitPrice, 3, 'COMMA')}|"></td>
          <td th:text="|₩ ${#numbers.formatInteger(detail.orderQty * detail.unitPrice, 3, 'COMMA')}|"></td>
          <td th:text="${#dates.format(detail.requiredDeliveryDate, 'yyyy-MM-dd')}"></td>
          <td th:text="${detail.remark}"></td>
        </tr>
      </tbody>
    </table>
  </div>
</body>
</html>
