<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>발주목록</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      overflow-x: hidden;
    }

    .sidebar {
      position: fixed;
      top: 0;
      left: -250px;
      width: 250px;
      height: 100%;
      background-color: #343a40;
      color: white;
      overflow-y: scroll;
      overflow-y: auto;
      padding: 1rem 1rem 2rem;
      z-index: 1050;
      transition: left 0.3s ease;
    }

    .sidebar.active {
      left: 0;
    }

    .sidebar h5, .sidebar .section-title {
      font-size: 14px;
      color: #adb5bd;
      margin-top: 1.5rem;
      margin-bottom: 0.5rem;
    }

    .sidebar a {
      display: block;
      color: white;
      text-decoration: none;
      padding: 4px 0;
      font-size: 15px;
    }

    .sidebar a:hover {
      text-decoration: underline;
    }

    .menu-header {
      font-weight: bold;
      font-size: 18px;
      margin-bottom: 1rem;
    }

    .top-bar {
      height: 60px;
      background-color: white;
      padding: 0 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      color: black;
    }

    .menu-icon {
      font-size: 24px;
      cursor: pointer;
      color: black;
      background: none;
      border: none;
    }

    .close-icon {
      font-size: 20px;
      color: white;
      background: none;
      border: none;
      position: absolute;
      top: 10px;
      right: 10px;
      cursor: pointer;
    }

    .main-content {
      padding: 2rem;
      transition: margin-left 0.3s ease;
    }

    .main-content.shifted {
      margin-left: 250px;
    }

    .table th, .table td {
      vertical-align: middle;
      text-align: center;
    }

    .btn-group-bottom {
      margin-top: 1rem;
      text-align: right;
    }
  </style>
</head>
<body>
  <div class="sidebar" id="sidebar">
    <button class="close-icon" onclick="toggleSidebar()">&times;</button>
    <div class="menu-header">메뉴</div>
    <div class="section-title">기준정보관리</div>
    <a href="#">사업장관리</a>
    <a href="#">거래처관리</a>
    <a href="#">창고관리</a>
    <a href="#">제품관리</a>
    <a href="#">품목관리</a>
    <a href="#">사원관리</a>
    <a href="#">공지사항</a>
    <div class="section-title">구매영업관리</div>
    <a href="#">발주관리</a>
    <a href="#">주문관리</a>
    <a href="#">출고관리</a>
    <a href="#">자재소요량계산</a>
    <div class="section-title">자재관리</div>
    <a href="#">입고관리</a>
    <a href="#">재고관리</a>
    <div class="section-title">생산관리</div>
    <a href="#">생산계획</a>
  </div>

  <div class="top-bar">
    <button class="menu-icon" onclick="toggleSidebar()">&#9776;</button>
    <h3 class="fw-bold m-0">CodeA</h3>
    <div></div>
  </div>

  <div class="main-content" id="mainContent">
    <h4 class="fw-bold mb-3">주문목록</h4>
    <div class="table-responsive">
      <table class="table table-bordered align-middle">
        <thead class="table-light">
          <tr>
            <th><input type="checkbox" id="order_all"></th>
            <th>발주코드</th>
            <th>자재명</th>
            <th>자재코드</th>
            <th>규격</th>
            <th>단가</th>
            <th>수량</th>
            <th>단위</th>
            <th>총액</th>
            <th>발주일</th>
            <th>비고</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><input type="checkbox" class="check_item"></td><td>PO20240601-01</td><td>알루미늄 판</td><td>M001</td><td>100x200x2T</td><td>5,000</td><td>20</td><td>EA</td><td>100,000</td><td>2024-06-01</td><td></td></tr>
          <tr><td><input type="checkbox" class="check_item"></td><td>PO20240601-02</td><td>스테인리스 볼트</td><td>M002</td><td>M8x30</td><td>300</td><td>100</td><td>EA</td><td>30,000</td><td>2024-06-01</td><td></td></tr>
          <tr><td><input type="checkbox" class="check_item"></td><td>PO20240602-01</td><td>구리선</td><td>M003</td><td>Ø2mm</td><td>1,200</td><td>50</td><td>EA</td><td>60,000</td><td>2024-06-02</td><td></td></tr>
          <tr><td><input type="checkbox" class="check_item"></td><td>PO20240602-02</td><td>플라스틱 커버</td><td>M004</td><td>50x50</td><td>800</td><td>40</td><td>EA</td><td>32,000</td><td>2024-06-02</td><td></td></tr>
          <tr><td><input type="checkbox" class="check_item"></td><td>PO20240603-01</td><td>고무 패킹</td><td>M005</td><td>Ø10mm</td><td>150</td><td>200</td><td>EA</td><td>30,000</td><td>2024-06-03</td><td></td></tr>
          <tr><td><input type="checkbox" class="check_item"></td><td>PO20240603-02</td><td>철판</td><td>M006</td><td>200x300x3T</td><td>7,500</td><td>10</td><td>EA</td><td>75,000</td><td>2024-06-03</td><td></td></tr>
          <tr><td><input type="checkbox" class="check_item"></td><td>PO20240604-01</td><td>아연 도금 볼트</td><td>M007</td><td>M10x40</td><td>400</td><td>80</td><td>EA</td><td>32,000</td><td>2024-06-04</td><td></td></tr>
          <tr><td><input type="checkbox" class="check_item"></td><td>PO20240604-02</td><td>플라스틱 와셔</td><td>M008</td><td>Ø15mm</td><td>100</td><td>300</td><td>EA</td><td>30,000</td><td>2024-06-04</td><td></td></tr>
          <tr><td><input type="checkbox" class="check_item"></td><td>PO20240605-01</td><td>스프링</td><td>M009</td><td>Ø5x50mm</td><td>600</td><td>60</td><td>EA</td><td>36,000</td><td>2024-06-05</td><td></td></tr>
          <tr><td><input type="checkbox" class="check_item"></td><td>PO20240605-02</td><td>실리콘 튜브</td><td>M010</td><td>Ø8x1000mm</td><td>2,000</td><td>15</td><td>EA</td><td>30,000</td><td>2024-06-05</td><td></td></tr>
        </tbody>
      </table>
    </div>

    <div class="d-flex justify-content-between mt-3">
      <nav>
        <ul class="pagination">
          <li class="page-item active"><a class="page-link" href="#">1</a></li>
          <li class="page-item"><a class="page-link" href="#">2</a></li>
          <li class="page-item"><a class="page-link" href="#">&raquo;</a></li>
        </ul>
      </nav>
      <div>
        <button class="btn btn-dark" onclick="go_add()">추가</button>
        <button class="btn btn-light border" onclick="go_delete()">삭제</button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const content = document.getElementById('mainContent');
      sidebar.classList.toggle('active');
      content.classList.toggle('shifted');
    }
  </script>
  
  <script>
  function go_add() {
	  if (confirm('주문신청 페이지로 이동 하시겠습니까?')) {
	    alert('주문신청 페이지로 이동되었습니다.');
	    location.href = './orderok.html';
	  }
	}

  window.onload = function () {
	    var checkall = document.getElementById("order_all");     // 전체 선택 박스
	    var checkitems = document.querySelectorAll(".check_item");  // 개별 선택 박스들

	    // 전체 선택 박스를 클릭했을 때
	    checkall.onclick = function () {
	    	checkitems.forEach(function (checkbox) {
	        checkbox.checked = checkall.checked;
	      });
	    };

	    // 개별 체크박스를 클릭했을 때
	    checkitems.forEach(function (checkbox) {
	      checkbox.onclick = function () {
	        // 만약 하나라도 체크 해제되면 전체 선택도 해제
	        if (!checkbox.checked) {
	          checkall.checked = false;
	        } else {
	          // 전부 다 체크된 경우에만 전체선택 체크
	          var allChecked = Array.from(checkitems).every(cb => cb.checked);
	          checkall.checked = allChecked;
	        }
	      };
	    });
	  };
	  
function go_delete() {
		// 모든 체크박스(class="check_item") 가져오기
		 var checkboxes = document.querySelectorAll(".check_item");
		 var check_delete = 0;

		 checkboxes.forEach(function (checkbox) {
			    if (checkbox.checked) {
			    	check_delete ++;
			      checkbox.checked = false; // 체크 해제 (삭제처럼 처리)
			    }
			  });

		 if (check_delete > 0) {
			    if (confirm('선택한 주문건을 삭제 하시겠습니까?')) {
			      alert("선택된 주문건이 삭제되었습니다.");
			      document.getElementById("order_all").checked = false;
			      frk
			      location.href = './order_list.html'; // 실제 이동 원하면 여기에
			    }
			  } else {
			    alert("삭제할 항목을 선택하세요.");
			  }
			}
  
</script>
</body>
</html>
